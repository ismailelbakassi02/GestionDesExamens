<!DOCTYPE html>
<html xmlns="[http://www.w3.org/1999/xhtml](http://www.w3.org/1999/xhtml)"
      xmlns:h="[http://java.sun.com/jsf/html](http://java.sun.com/jsf/html)"
      xmlns:ui="[http://java.sun.com/jsf/facelets](http://java.sun.com/jsf/facelets)"
      xmlns:p="[http://primefaces.org/ui](http://primefaces.org/ui)" xmlns:f="http://java.sun.com/xml/ns/javaee">

<h:body>
    <p:dialog header="Ajouter un nouvel Étudiant" widgetVar="addEtudiantDialog" modal="true" responsive="true">
        <h:form id="addEtudiantForm">
            <p:panelGrid columns="2" layout="grid" styleClass="ui-panelgrid-blank form-grid">
                <p:outputLabel for="nom" value="Nom:"/>
                <p:inputText id="nom" value="#{etudiantController.newEtudiant.nom}" required="true" requiredMessage="Le nom est requis."/>

                <p:outputLabel for="prenom" value="Prénom:"/>
                <p:inputText id="prenom" value="#{etudiantController.newEtudiant.prenom}" required="true" requiredMessage="Le prénom est requis."/>

                <p:outputLabel for="email" value="Email:"/>
                <p:inputText id="email" value="#{etudiantController.newEtudiant.email}" required="true" requiredMessage="L'email est requis." validatorMessage="Format d'email invalide.">
                    <f:validateRegex pattern="[\w\.-]*[a-zA-Z0-9_]@[\w\.-]*[a-zA-Z0-9]\.[a-zA-Z][a-zA-Z\.]*[a-zA-Z]"/>
                </p:inputText>

                <p:outputLabel for="cne" value="CNE:"/>
                <p:inputText id="cne" value="#{etudiantController.newEtudiant.cne}" required="true" requiredMessage="Le CNE est requis."/>

                <p:outputLabel for="filiere" value="Filière:"/>
                <p:inputText id="filiere" value="#{etudiantController.newEtudiant.filiere}" required="true" requiredMessage="La filière est requise."/>
            </p:panelGrid>

            <f:facet name="footer">
                <p:commandButton value="Enregistrer" action="#{etudiantController.createEtudiant()}"
                                 update=":etudiantListForm:etudiantListForm @form messages"
                                 oncomplete="if (!args.validationFailed) { PF('addEtudiantDialog').hide(); }"
                                 icon="pi pi-save" styleClass="ui-button-primary"/>
                <p:commandButton value="Annuler" type="button" onclick="PF('addEtudiantDialog').hide()"
                                 icon="pi pi-times" styleClass="ui-button-secondary"/>
            </f:facet>
        </h:form>
    </p:dialog>
</h:body>
</html>